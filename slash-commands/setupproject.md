# [SetupProject] - New Project Setup

**Version**: 2.1.0
**Command**: `[SetupProject]` or `/setupproject`
**Trigger**: Run when starting a new project or when [StartDay] detects unconfigured project
**Purpose**: Collect project info through questions and generate config files
**Executor**: [Codey] (TPM) with [PRODUCT_OWNER]

---

## AUTO-EXECUTION INSTRUCTIONS

**This is an INTERACTIVE workflow. Ask questions one section at a time, then generate files.**

---

## STEP 1: Welcome & Basic Info
**Executor**: [Codey]

### Check for Existing Setup:
```bash
if [ -f "docs-framework/config/placeholders.json" ]; then
    # Check if already configured
    if grep -q '"name": "\[PROJECT_NAME\]"' docs-framework/config/placeholders.json; then
        # Not configured yet, proceed
    else
        # Already configured
        ASK: "This project is already set up as [project_name].
              Do you want to reconfigure? (yes/no)"
    fi
fi
```

### Ask Basic Questions:
```
PROJECT SETUP
==============

Let's set up your project. I'll ask a few questions.

1. What's your name? (You'll be the Product Owner)

2. What's the project name?

3. Brief description of what you're building?
```

Wait for answers before proceeding.

---

## STEP 2: Tech Stack
**Executor**: [Codey], [Syntax]

### Ask Tech Questions:
```
TECH STACK
===========

4. What's your primary language/framework?
   Examples: Next.js, PHP, Node.js + Express, React, etc.

5. CSS framework?
   Examples: Tailwind CSS, Bootstrap, plain CSS

6. Database (if any)?
   Examples: PostgreSQL, MySQL, MongoDB, none

7. What port for local development?
   Examples: 3000, 8080, 80
```

Wait for answers before proceeding.

---

## STEP 3: URLs & Repository
**Executor**: [Codey]

### Ask URL Questions:
```
URLS & REPOSITORY
==================

8. Local development URL?
   Example: http://localhost:3000

9. Production URL (if known)?
   Example: https://myproject.com
   (Type "unknown" if you don't have one yet)

10. GitHub repository URL?
    Example: https://github.com/username/project
    (Type "later" to skip for now)
```

Wait for answers before proceeding.

---

## STEP 4: Environment Variables
**Executor**: [Codey], [Flow]

### Ask About Required Services:
```
ENVIRONMENT VARIABLES
======================

Which services will your project use? (Answer yes/no for each)

11. Database connection? (DATABASE_URL)
12. Authentication secrets? (NEXTAUTH_SECRET, etc.)
13. Email service? (Which one: Resend, SendGrid, etc.)
14. File storage? (Which one: Cloudinary, AWS S3, etc.)
15. Payments? (Stripe, etc.)
16. Any other API keys?
```

Based on answers, build the list of required env variables.

---

## STEP 5: Generate Configuration Files
**Executor**: [Codey]

### 5.1 Generate placeholders.json:
```bash
cat > docs-framework/config/placeholders.json << 'EOF'
{
  "_comment": "Project configuration - Generated by [SetupProject]",
  "_version": "2.0.0",
  "_generated": "[CURRENT_DATE]",

  "project": {
    "name": "[collected_name]",
    "description": "[collected_description]",
    "repository": "[collected_repo]",
    "production_url": "[collected_prod_url]",
    "local_url": "[collected_local_url]"
  },

  "tech_stack": {
    "primary_language": "[collected_language]",
    "css_framework": "[collected_css]",
    "database": "[collected_database]",
    "port": "[collected_port]"
  },

  "team": {
    "product_owner": "[collected_owner]",
    "tpm": "Codey",
    "principal_engineer": "Syntax",
    "designer": "Aesthetica",
    "devops": "Flow",
    "qa": "Verity",
    "security": "Sentinal",
    "marketing_seo": "Bran",
    "content_strategist": "Echo",
    "storybrand_expert": "Cipher"
  },

  "paths": {
    "docs_root": "/docs",
    "kanban_dev": "/docs/kanban/kanban_dev.html",
    "public_root": "/public"
  },

  "git": {
    "main_branch": "main",
    "feature_prefix": "feature/"
  },

  "setup_tasks": {
    "env_file": {
      "required": [true if any env vars needed],
      "variables": [list of required variables]
    },
    "git_init": {
      "required": true,
      "remote_url": "[collected_repo]"
    },
    "dependencies": {
      "required": true,
      "command": "[npm install or composer install]"
    },
    "database": {
      "required": [true if database selected],
      "migration_command": "[appropriate migration command]"
    },
    "dev_server": {
      "command": "[appropriate dev command]"
    }
  }
}
EOF
```

### 5.2 Generate .env.example (if env vars required):
```bash
cat > .env.example << 'EOF'
# [PROJECT_NAME] Environment Variables
# Copy to .env and fill in your values
# Generated by [SetupProject]

[For each collected env variable, add with placeholder:]

# DATABASE
DATABASE_URL="postgresql://user:password@localhost:5432/dbname"

# AUTHENTICATION
NEXTAUTH_SECRET=""
NEXTAUTH_URL="[collected_local_url]"

# [SERVICE] (based on answers)
[SERVICE]_API_KEY=""

EOF
```

### 5.3 Generate CLAUDE.md:
Copy from `docs-framework/templates/CLAUDE.md.template` and replace placeholders.

### 5.4 Create Directory Structure:
```bash
mkdir -p docs/kanban
mkdir -p docs/deployment
```

### 5.5 Generate Kanban Board:
Copy from `docs-framework/templates/kanban_dev.html.template`.

---

## STEP 6: Offer Automated Setup
**Executor**: [Flow]

### Ask User:
```
AUTOMATED SETUP
================

I can run these commands now:

1. git init
2. git remote add origin [repo_url]
3. Create .env from .env.example
4. Install dependencies ([npm install / composer install])

Run all of these? (yes / no / pick numbers)
```

Execute selected commands.

---

## STEP 7: Summary
**Executor**: [Codey]

### Display:
```
PROJECT SETUP COMPLETE!
========================

Project: [collected_name]
Owner: [collected_owner]
Tech: [collected_language] + [collected_css]
Local URL: [collected_local_url]

FILES CREATED:
✓ placeholders.json
✓ CLAUDE.md
✓ .env.example
✓ kanban_dev.html

SETUP STATUS:
[List what was done and what still needs manual action]

REMAINING STEPS:
[List any incomplete items like:]
- Set up database and generate secrets
- Fill in external service API keys
- Run database migration
- etc.
```

---

## STEP 8: Offer Environment Setup
**Executor**: [Codey]

### Ask User (Do Not Auto-Execute):
```
ENVIRONMENT SETUP
==================

Would you like me to set up your development environment now?

This will:
- Create/provision your database (you choose: Supabase, Docker, Local, etc.)
- Generate secure secrets (JWT, session keys, etc.)
- Populate your .env file automatically
- Run install and migration commands

Run [SetupEnvironment]? (yes / no)
```

### If User Says Yes:
Execute `[SetupEnvironment]` workflow.

### If User Says No:
```
No problem! When you're ready, just type:

  [SetupEnvironment]

This will walk you through database setup and .env configuration.

---

Type [StartDay] to begin your first session!
Next time you start Claude, I'll automatically check in.
```

---

## TECH STACK DEFAULTS

Based on the primary language, set appropriate defaults:

### Next.js / Node.js:
```json
{
  "dependencies": { "command": "npm install" },
  "database": { "migration_command": "npx prisma migrate dev" },
  "dev_server": { "command": "npm run dev" }
}
```

### PHP:
```json
{
  "dependencies": { "command": "composer install", "required": false },
  "database": { "migration_command": "", "required": false },
  "dev_server": { "command": "php -S localhost:[port] -t public" }
}
```

### Python / Django:
```json
{
  "dependencies": { "command": "pip install -r requirements.txt" },
  "database": { "migration_command": "python manage.py migrate" },
  "dev_server": { "command": "python manage.py runserver" }
}
```

---

## VERSION HISTORY

- v2.1.0 (2025-12-23): Added Step 8 - offers [SetupEnvironment] at end (user decides)
- v2.0.0 (2025-12-22): Simplified universal setup - question-driven, no PRD parsing
- v1.0.0 (2025-10-12): Initial release

---

**Command Status**: PRODUCTION READY
**Last Updated**: 2025-12-22
**Maintainer**: [Codey] (TPM)
